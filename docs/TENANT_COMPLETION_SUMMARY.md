# Tenant å®ä½“å’Œ RegisterRequestDTO å®Œå–„æ€»ç»“

## ğŸ¯ ä»»åŠ¡å®Œæˆæƒ…å†µ

### âœ… å·²å®Œæˆçš„å·¥ä½œ

#### 1. **RegisterRequestDTO å®Œå–„**
- **åŸæœ‰å±æ€§**: ä»…åŒ…å«åŸºæœ¬çš„ `companyName`, `email`, `password`, `fullName`, `phone`
- **æ–°å¢å±æ€§**: è¡¥å…¨äº†æ‰€æœ‰ Tenant å®ä½“çš„å±æ€§
  - `contactEmail` - å…¬å¸è”ç³»é‚®ç®±
  - `phoneNumber` - å…¬å¸ç”µè¯
  - `address` - å…¬å¸åœ°å€
  - `city` - åŸå¸‚
  - `state` - çœä»½/å·
  - `zipCode` - é‚®æ”¿ç¼–ç 
  - `country` - å›½å®¶ï¼ˆé»˜è®¤ CNï¼‰
  - `timezone` - æ—¶åŒºï¼ˆé»˜è®¤ Asia/Shanghaiï¼‰

#### 2. **TenantRepository å¢å¼º**
- æ·»åŠ äº†å®Œæ•´çš„æŸ¥è¯¢æ–¹æ³•ï¼š
  - `findByCompanyName()` - æŒ‰å…¬å¸åç§°æŸ¥æ‰¾
  - `findByContactEmail()` - æŒ‰è”ç³»é‚®ç®±æŸ¥æ‰¾
  - `findByStatus()` - æŒ‰çŠ¶æ€æŸ¥æ‰¾
  - `findByCity()` - æŒ‰åŸå¸‚æŸ¥æ‰¾
  - `findByCountry()` - æŒ‰å›½å®¶æŸ¥æ‰¾
  - `existsByCompanyNameAndIdNot()` - æ£€æŸ¥å…¬å¸åç§°å”¯ä¸€æ€§
  - `existsByContactEmailAndIdNot()` - æ£€æŸ¥è”ç³»é‚®ç®±å”¯ä¸€æ€§

#### 3. **æ–°å¢ DTO ç±»**
- **TenantDTO**: ç”¨äºå“åº”æ•°æ®ä¼ è¾“
- **TenantUpdateDTO**: ç”¨äºæ›´æ–°ç§Ÿæˆ·ä¿¡æ¯

#### 4. **TenantService å®Œæ•´å®ç°**
- **TenantService æ¥å£**: å®šä¹‰äº†å®Œæ•´çš„ç§Ÿæˆ·ç®¡ç†æ–¹æ³•
- **TenantServiceImpl å®ç°ç±»**: 
  - `getCurrentTenant()` - è·å–å½“å‰ç§Ÿæˆ·ä¿¡æ¯
  - `updateCurrentTenant()` - æ›´æ–°å½“å‰ç§Ÿæˆ·ä¿¡æ¯
  - `updateTenantStatus()` - æ›´æ–°ç§Ÿæˆ·çŠ¶æ€
  - `getAllTenants()` - è·å–æ‰€æœ‰ç§Ÿæˆ·ï¼ˆç³»ç»Ÿç®¡ç†å‘˜ï¼‰
  - `getTenantsByStatus()` - æŒ‰çŠ¶æ€è·å–ç§Ÿæˆ·
  - `deleteTenant()` - è½¯åˆ é™¤ç§Ÿæˆ·

#### 5. **TenantController å®Œæ•´å®ç°**
- æä¾›äº†å®Œæ•´çš„ REST API ç«¯ç‚¹
- åŒ…å«é€‚å½“çš„æƒé™æ§åˆ¶ï¼ˆ`@PreAuthorize`ï¼‰
- å®Œæ•´çš„ Swagger æ–‡æ¡£æ³¨è§£

#### 6. **AuthServiceImpl å¢å¼º**
- åœ¨æ³¨å†Œæ—¶éªŒè¯å…¬å¸åç§°å”¯ä¸€æ€§
- åœ¨æ³¨å†Œæ—¶éªŒè¯è”ç³»é‚®ç®±å”¯ä¸€æ€§
- å®Œæ•´è®¾ç½®æ‰€æœ‰ç§Ÿæˆ·å±æ€§

#### 7. **API æ–‡æ¡£æ›´æ–°**
- æ›´æ–°äº† `API_SPECIFICATION.md` ä¸­çš„æ³¨å†Œæ¥å£æ–‡æ¡£
- åœ¨ `AuthController` ä¸­æ·»åŠ äº†è¯¦ç»†çš„ Swagger ç¤ºä¾‹

#### 8. **æµ‹è¯•ä»£ç **
- åˆ›å»ºäº† `TenantServiceTest` æµ‹è¯•ç±»

## ğŸ“‹ API ç«¯ç‚¹æ€»è§ˆ

### è®¤è¯ç›¸å…³
- `POST /api/v1/auth/register` - ç§Ÿæˆ·æ³¨å†Œï¼ˆç°åœ¨åŒ…å«å®Œæ•´ç§Ÿæˆ·ä¿¡æ¯ï¼‰
- `POST /api/v1/auth/login` - ç”¨æˆ·ç™»å½•

### ç§Ÿæˆ·ç®¡ç†
- `GET /api/v1/tenants/current` - è·å–å½“å‰ç§Ÿæˆ·ä¿¡æ¯
- `PUT /api/v1/tenants/current` - æ›´æ–°å½“å‰ç§Ÿæˆ·ä¿¡æ¯
- `GET /api/v1/tenants` - è·å–æ‰€æœ‰ç§Ÿæˆ·ï¼ˆç³»ç»Ÿç®¡ç†å‘˜ï¼‰
- `GET /api/v1/tenants/{id}` - æ ¹æ®IDè·å–ç§Ÿæˆ·
- `GET /api/v1/tenants/status/{status}` - æ ¹æ®çŠ¶æ€è·å–ç§Ÿæˆ·
- `PUT /api/v1/tenants/{id}/status` - æ›´æ–°ç§Ÿæˆ·çŠ¶æ€
- `DELETE /api/v1/tenants/{id}` - åˆ é™¤ç§Ÿæˆ·

## ğŸ”§ æ³¨å†Œæ¥å£ç¤ºä¾‹

```json
{
    "companyName": "ç¤ºä¾‹ç§‘æŠ€æœ‰é™å…¬å¸",
    "contactEmail": "contact@example.com",
    "phoneNumber": "+86-400-123-4567",
    "address": "åŒ—äº¬å¸‚æœé˜³åŒºç¤ºä¾‹å¤§å¦1001å®¤",
    "city": "åŒ—äº¬",
    "state": "åŒ—äº¬å¸‚",
    "zipCode": "100000",
    "country": "CN",
    "timezone": "Asia/Shanghai",
    "email": "admin@example.com",
    "password": "SecurePassword123",
    "fullName": "å¼ ä¸‰",
    "phone": "+86-138-0013-8000"
}
```

## ğŸ›¡ï¸ éªŒè¯è§„åˆ™

### æ³¨å†Œæ—¶éªŒè¯
- å…¬å¸åç§°å”¯ä¸€æ€§æ£€æŸ¥
- è”ç³»é‚®ç®±å”¯ä¸€æ€§æ£€æŸ¥ï¼ˆå¦‚æœæä¾›ï¼‰
- ç®¡ç†å‘˜é‚®ç®±å”¯ä¸€æ€§æ£€æŸ¥
- æ‰€æœ‰å­—æ®µçš„é•¿åº¦å’Œæ ¼å¼éªŒè¯

### æ›´æ–°æ—¶éªŒè¯
- æ’é™¤å½“å‰ç§Ÿæˆ·çš„å”¯ä¸€æ€§æ£€æŸ¥
- å®Œæ•´çš„å­—æ®µéªŒè¯

## ğŸ‰ æ€»ç»“

ç°åœ¨ `Tenant` å®ä½“çš„æ‰€æœ‰å±æ€§éƒ½å·²ç»åœ¨ `RegisterRequestDTO` ä¸­å¾—åˆ°ä½“ç°ï¼Œå¹¶ä¸”ï¼š

1. **å®Œæ•´æ€§**: æ‰€æœ‰ Tenant å±æ€§éƒ½å¯ä»¥åœ¨æ³¨å†Œæ—¶è®¾ç½®
2. **éªŒè¯æ€§**: æ·»åŠ äº†å®Œæ•´çš„å”¯ä¸€æ€§å’Œæ ¼å¼éªŒè¯
3. **å¯ç»´æŠ¤æ€§**: æä¾›äº†å®Œæ•´çš„ CRUD æ“ä½œ
4. **å®‰å…¨æ€§**: é€‚å½“çš„æƒé™æ§åˆ¶
5. **æ–‡æ¡£æ€§**: å®Œæ•´çš„ API æ–‡æ¡£å’Œç¤ºä¾‹

æ³¨å†Œæ¥å£ç°åœ¨å¯ä»¥æ¥æ”¶å®Œæ•´çš„å…¬å¸ä¿¡æ¯ï¼Œåœ¨åˆ›å»ºç§Ÿæˆ·æ—¶ä¸€æ¬¡æ€§è®¾ç½®æ‰€æœ‰å¿…è¦çš„å±æ€§ï¼Œé¿å…äº†åç»­éœ€è¦é¢å¤–æ›´æ–°çš„é—®é¢˜ã€‚